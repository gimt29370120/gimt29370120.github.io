<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<title>title</title>
<style>
body{
 margin:0;
 padding:0;
 background-color:#c3c3c3;
}
.site-wrap{
 width:95%;
 max-width:1200px;
 margin:0 auto;
 background-color:#fff;
 z-index:1001;
}
.site-header{
 width:100%;
  aspect-ratio:1/0.28;
 background-size: 100% auto;
}
main{
 width:95%;
 max-width:1200px;
 margin:0 auto;
 background-color:#fff;
}
</style>
 <script>
  const urlParams = new URLSearchParams(window.location.search);
  fetch("../menu-warp.html")
  .then(response => response.text())
  .then(data => {
    document.getElementById("menu-warp").innerHTML = data;
  });
  const toolUrl = urlParams.get("p");
  if (toolUrl) {
  fetch(toolUrl)
    .then(res => res.text())
    .then(data => {
      const range = document.createRange();
      const fragment = range.createContextualFragment(data);
      document.getElementById("tool").appendChild(fragment);
    });
  }
  const toolContainer = document.getElementById("tool");
  const shadow = toolContainer.attachShadow({ mode: "open" }); // 建立隔離層

  fetch(toolUrl)
  .then(res => res.text())
  .then(data => {
    // 將內容插入影子 DOM，樣式即被隔離
    shadow.innerHTML = data; 
    
    // 注意：Shadow DOM 中的腳本仍需手動執行，可參考前述 fragment 方法
  });
 </script>
</head>
<body>
 <div class="site-wrap">
 <header class="site-header" style="background-image:url(header.png);">
  <div id="menu-warp"></div>
 </header>
 </div>
 <main style="height:900px;">
  <a>這是一段文字</a>
  <div id="tool"></div>
 </main>
</body>
</html>
